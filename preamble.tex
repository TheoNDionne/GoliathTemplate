%----------------Choix de polices---------------

%---EB Garamond (ATTENTION (LUA/Xe)LaTeX)
\usepackage{fontspec}
\setmainfont{EB Garamond}[
  Ligatures   = TeX,
  OpticalSize = On,
  % Numbers     = OldStyle,
  SmallCapsFeatures = {LetterSpace=5}
]

% Doit être importé avant unicode math
\usepackage{amsmath}        % ajoute des environnements mathématiques
\usepackage{mathtools} % Tools for math formating.

% Police mathématique
\usepackage{unicode-math}
\setmathfont{Libertinus Math}[Scale=MatchLowercase]
% \setmathfont[range=\mathscr, Scale=MatchLowercase]{XITS Math}
\setmathfont[range=\mathcal, Scale=MatchLowercase]{Latin Modern Math}

% \usepackage{bm}				% ajoute des caractères grecs en gras
\usepackage{setspace} 		% gère l'interligne
\usepackage[french]{babel}  % comment this line if the thesis is in English
\addto\captionsfrench{\renewcommand\frenchtablename{{\FBfigtabshape Tableau}}}
\usepackage{cite}
\usepackage{microtype}
\usepackage{graphicx}		% gère l'insertion des figures
\usepackage{subfig}			% permet d'ajouter des sous-figures
\usepackage{geometry}		% gère les dimensions du document (mise en page)
\usepackage{fancybox}		% définit des macros pour des boîtes, des cadres, etc.
\usepackage{url}            % permet de typographier des url
\usepackage{float}
\usepackage{braket}

% modifie la manière dont les descriptions de tableaux et figures sont disposées
\usepackage[format=hang,margin=5mm,font=small,labelfont=bf,labelsep=space]{caption}

%-------------------------------------------------------------------------------
% Pass hyperref options before loading pdfx
\PassOptionsToPackage{
    backref=page,
    pagebackref=true,
    hyperindex=true,
    bookmarks=true,
    pdfa
}{hyperref}

\usepackage[a-2b,mathxmp]{pdfx}[2018/12/22]

% \usepackage{theme/colors_vert_et_or}
\usepackage{theme/colors_crimson}

% options PDF
\hypersetup{
    colorlinks=true,         % colorise les liens
    breaklinks=true,         % permet le retour la ligne dans les liens trop longs
    urlcolor=URLColor,   % couleur des hyperliens (doit inclure x11names dans xcolor ci-dessus)
    linkcolor=LinkColor,  % couleur des liens internes
    citecolor=CiteColor,  % couleur des liens de citation
    bookmarksopen=true,      % ouvre les signets PDF au départ
}


%-----------------------------------------------------------------------------
% Tableaux
\usepackage{array} % généralise certaines fonctions de tabulation
\newcolumntype{C}{>{$\displaystyle}c<{$}} % colonne mathématique centrée
\newcolumntype{L}{>{$\displaystyle}l<{$}} % colonne mathématique alignée à gauche
\newcolumntype{R}{>{$\displaystyle}r<{$}} % colonne mathématique alignée à droite
\renewcommand{\arraystretch}{1.5}
\usepackage{dcolumn} % permet l'alignement sur le point décimal

%-------------------------------------------------------------------------------
% Mise en page
\usepackage{theme/layout}
%-------------------------------------------------------------------------------
% Macros

\usepackage[nice]{nicefrac} % Nicer fractions
\usepackage{cancel} % Allows to scratch expressions.
\usepackage{slashed} % Allows to slash individual characters.
\usepackage{xargs} % Better handling of optional arguments for commands
\usepackage{macros} % Mes macros LaTeX spécifiques

\newcommand\itsym{$\bullet$} % symbole pour les listes

%-------------------------------------------------------------------------------
% Figures TiKz !!!TODO FIX THIS!!!
\usepackage{tikz}
\usetikzlibrary{
	calc,
	patterns,
	positioning,
    external,
    shapes,
    fit,
    backgrounds,
    arrows.meta,
	positioning,
    decorations,
    decorations.pathmorphing,
    decorations.markings,
    shapes.geometric,
    arrows
}
\tikzexternalize[prefix=figures/pdf/]

\usepackage{pgfplots}
\pgfplotsset{compat=1.16}
\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}

\usepackage{theme/tikzstyles}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
